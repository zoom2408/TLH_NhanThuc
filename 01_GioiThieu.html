<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kh√°m ph√° T√¢m l√Ω h·ªçc Nh·∫≠n th·ª©c</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .game-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 800px;
            width: 90%;
            padding: 40px;
            position: relative;
            overflow: hidden;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        h1 {
            color: #5a67d8;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .subtitle {
            color: #718096;
            font-size: 1.2em;
        }
        
        .content-section {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }
        
        .content-section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .concept-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transform: translateX(0);
            transition: all 0.3s ease;
        }
        
        .concept-card:hover {
            transform: translateX(10px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }
        
        .concept-title {
            color: #4a5568;
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .concept-content {
            color: #2d3748;
            line-height: 1.6;
        }
        
        .experiment-box {
            background: #e6fffa;
            border-left: 5px solid #4fd1c5;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
        }
        
        .experiment-title {
            color: #285e61;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .quiz-container {
            background: #f7fafc;
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
        }
        
        .question {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .question h3 {
            color: #2d3748;
            margin-bottom: 15px;
        }
        
        .options {
            display: grid;
            gap: 10px;
        }
        
        .option {
            background: #edf2f7;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .option:hover {
            background: #e2e8f0;
            border-color: #5a67d8;
            transform: translateY(-2px);
        }
        
        .option.selected {
            background: #5a67d8;
            color: white;
        }
        
        .option.correct {
            background: #48bb78;
            color: white;
            animation: pulse 0.5s ease;
        }
        
        .option.incorrect {
            background: #f56565;
            color: white;
            animation: shake 0.5s ease;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 20px;
        }
        
        .btn {
            background: #5a67d8;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(90, 103, 216, 0.3);
        }
        
        .btn:hover {
            background: #4c51bf;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(90, 103, 216, 0.4);
        }
        
        .btn:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
            box-shadow: none;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #5a67d8, #764ba2);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .score-display {
            text-align: center;
            font-size: 1.2em;
            color: #4a5568;
            margin-bottom: 20px;
        }
        
        .timeline {
            position: relative;
            padding: 20px 0;
        }
        
        .timeline-item {
            position: relative;
            padding-left: 40px;
            margin-bottom: 30px;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 5px;
            width: 10px;
            height: 10px;
            background: #5a67d8;
            border-radius: 50%;
        }
        
        .timeline-item::after {
            content: '';
            position: absolute;
            left: 14px;
            top: 15px;
            width: 2px;
            height: calc(100% + 15px);
            background: #e2e8f0;
        }
        
        .timeline-item:last-child::after {
            display: none;
        }
        
        .year {
            color: #5a67d8;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .final-score {
            text-align: center;
            padding: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 20px;
            margin-top: 30px;
        }
        
        .final-score h2 {
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        
        .final-score p {
            font-size: 1.3em;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>üß† Kh√°m ph√° T√¢m l√Ω h·ªçc Nh·∫≠n th·ª©c</h1>
            <p class="subtitle">Ch∆∞∆°ng 1: Gi·ªõi thi·ªáu T√¢m l√Ω h·ªçc Nh·∫≠n th·ª©c</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <div class="score-display" id="scoreDisplay">ƒêi·ªÉm: 0</div>
        </div>
        
        <!-- Section 1: T√¢m tr√≠ l√† g√¨? -->
        <div class="content-section active" id="section1">
            <div class="concept-card">
                <div class="concept-title">üí≠ T√¢m tr√≠ l√† g√¨?</div>
                <div class="concept-content">
                    <p><strong>T√¢m tr√≠ (Mind)</strong> l√† m·ªôt h·ªá th·ªëng ph·ª©c t·∫°p t·∫°o d·ª±ng v√† ki·ªÉm so√°t c√°c ch·ª©c nƒÉng tinh th·∫ßn nh∆∞:</p>
                    <ul>
                        <li>‚ú® Tri gi√°c - c√°ch ch√∫ng ta nh·∫≠n bi·∫øt th·∫ø gi·ªõi</li>
                        <li>üéØ Ch√∫ √Ω - c√°ch ch√∫ng ta t·∫≠p trung v√†o th√¥ng tin</li>
                        <li>üß© Tr√≠ nh·ªõ - c√°ch ch√∫ng ta l∆∞u tr·ªØ v√† nh·ªõ l·∫°i th√¥ng tin</li>
                        <li>üí≠ T∆∞ duy - c√°ch ch√∫ng ta suy nghƒ© v√† l·∫≠p lu·∫≠n</li>
                        <li>üó£Ô∏è Ng√¥n ng·ªØ - c√°ch ch√∫ng ta giao ti·∫øp</li>
                        <li>‚ö° Ra quy·∫øt ƒë·ªãnh - c√°ch ch√∫ng ta l·ª±a ch·ªçn</li>
                    </ul>
                </div>
            </div>
            
            <div class="experiment-box">
                <div class="experiment-title">üî¨ V√≠ d·ª• th·ª±c t·∫ø: C√¢u chuy·ªán c·ªßa Terri Schiavo</div>
                <p>Tr∆∞·ªùng h·ª£p Terri Schiavo minh h·ªça cho c√¢u h·ªèi ph·ª©c t·∫°p v·ªÅ √Ω th·ª©c v√† t√¢m tr√≠. B√† s·ªëng trong tr·∫°ng th√°i th·ª±c v·∫≠t su·ªët 15 nƒÉm, ƒë·∫∑t ra c√¢u h·ªèi: Li·ªáu c√≥ "ai ƒë√≥" c√≤n t·ªìn t·∫°i b√™n trong kh√¥ng?</p>
            </div>
        </div>
        
        <!-- Section 2: L·ªãch s·ª≠ ph√°t tri·ªÉn -->
        <div class="content-section" id="section2">
            <div class="concept-card">
                <div class="concept-title">üìö Nh·ªØng c√¥ng vi·ªác ban ƒë·∫ßu trong nghi√™n c·ª©u t√¢m tr√≠</div>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="year">1868</div>
                        <strong>Donders - Th·ª±c nghi·ªám ƒë·∫ßu ti√™n</strong>
                        <p>ƒêo th·ªùi gian ph·∫£n ·ª©ng ƒë·ªÉ hi·ªÉu qu√° tr√¨nh ra quy·∫øt ƒë·ªãnh. Ph√°t hi·ªán: vi·ªác l·ª±a ch·ªçn gi·ªØa 2 k√≠ch th√≠ch m·∫•t th√™m 1/10 gi√¢y.</p>
                    </div>
                    <div class="timeline-item">
                        <div class="year">1879</div>
                        <strong>Wundt - Ph√≤ng th√≠ nghi·ªám t√¢m l√Ω ƒë·∫ßu ti√™n</strong>
                        <p>Th√†nh l·∫≠p t·∫°i Leipzig, ƒê·ª©c. Ph√°t tri·ªÉn ch·ªß nghƒ©a c·∫•u tr√∫c v√† ph∆∞∆°ng ph√°p n·ªôi quan.</p>
                    </div>
                    <div class="timeline-item">
                        <div class="year">1885</div>
                        <strong>Ebbinghaus - Nghi√™n c·ª©u tr√≠ nh·ªõ</strong>
                        <p>Ph√°t hi·ªán ƒë∆∞·ªùng cong l√£ng qu√™n: ch√∫ng ta qu√™n nhanh nh·∫•t trong 1-2 ng√†y ƒë·∫ßu.</p>
                    </div>
                    <div class="timeline-item">
                        <div class="year">1890</div>
                        <strong>William James - Gi√°o tr√¨nh t√¢m l√Ω ƒë·∫ßu ti√™n</strong>
                        <p>"Nh·ªØng nguy√™n l√Ω c·ªßa T√¢m l√Ω h·ªçc" - n·ªÅn t·∫£ng cho nghi√™n c·ª©u hi·ªán ƒë·∫°i.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Section 3: Ch·ªß nghƒ©a h√†nh vi -->
        <div class="content-section" id="section3">
            <div class="concept-card">
                <div class="concept-title">üö´ T·ª´ b·ªè vi·ªác nghi√™n c·ª©u t√¢m tr√≠</div>
                <div class="concept-content">
                    <p><strong>Ch·ªß nghƒ©a h√†nh vi (Behaviorism)</strong> do Watson kh·ªüi x∆∞·ªõng (1913):</p>
                    <ul>
                        <li>‚ùå B√°c b·ªè nghi√™n c·ª©u c√°c qu√° tr√¨nh tinh th·∫ßn b√™n trong</li>
                        <li>‚úÖ Ch·ªâ nghi√™n c·ª©u h√†nh vi c√≥ th·ªÉ quan s√°t ƒë∆∞·ª£c</li>
                        <li>üîó T·∫≠p trung v√†o m·ªëi quan h·ªá K√≠ch th√≠ch ‚Üí Ph·∫£n ·ª©ng</li>
                    </ul>
                </div>
            </div>
            
            <div class="experiment-box">
                <div class="experiment-title">üë∂ Th√≠ nghi·ªám "Little Albert" (1920)</div>
                <p>Watson v√† Rayner ƒëi·ªÅu ki·ªán h√≥a n·ªói s·ª£ ·ªü b√© Albert 9 th√°ng tu·ªïi:</p>
                <ol>
                    <li>Cho b√© ch∆°i v·ªõi chu·ªôt tr·∫Øng (k√≠ch th√≠ch trung t√≠nh)</li>
                    <li>T·∫°o ti·∫øng ƒë·ªông l·ªõn m·ªói khi b√© ch·∫°m v√†o chu·ªôt</li>
                    <li>K·∫øt qu·∫£: B√© s·ª£ chu·ªôt tr·∫Øng v√† c·∫£ nh·ªØng v·∫≠t m√†u tr·∫Øng kh√°c</li>
                </ol>
            </div>
        </div>
        
        <!-- Section 4: C√°ch m·∫°ng nh·∫≠n th·ª©c -->
        <div class="content-section" id="section4">
            <div class="concept-card">
                <div class="concept-title">üîÑ S·ª± t√°i sinh c·ªßa nghi√™n c·ª©u t√¢m tr√≠</div>
                <div class="concept-content">
                    <p><strong>Nh·ªØng s·ª± ki·ªán quan tr·ªçng d·∫´n ƒë·∫øn "C√°ch m·∫°ng nh·∫≠n th·ª©c":</strong></p>
                    <ul>
                        <li>üó∫Ô∏è <strong>Tolman (1938)</strong>: Ph√°t hi·ªán "b·∫£n ƒë·ªì nh·∫≠n th·ª©c" ·ªü chu·ªôt</li>
                        <li>üíª <strong>M√°y t√≠nh (1940s-50s)</strong>: G·ª£i √Ω m√¥ h√¨nh x·ª≠ l√Ω th√¥ng tin cho t√¢m tr√≠</li>
                        <li>ü§ñ <strong>H·ªôi ngh·ªã Dartmouth (1956)</strong>: Khai sinh AI v√† khoa h·ªçc nh·∫≠n th·ª©c</li>
                        <li>üìñ <strong>Neisser (1967)</strong>: Xu·∫•t b·∫£n "Cognitive Psychology"</li>
                    </ul>
                </div>
            </div>
            
            <div class="experiment-box">
                <div class="experiment-title">üßÆ Logic Theorist (1956)</div>
                <p>Simon v√† Newell t·∫°o ra ch∆∞∆°ng tr√¨nh m√°y t√≠nh ƒë·∫ßu ti√™n c√≥ th·ªÉ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ logic - c√¥ng vi·ªác tr∆∞·ªõc ƒë√≥ ch·ªâ con ng∆∞·ªùi l√†m ƒë∆∞·ª£c!</p>
            </div>
        </div>
        
        <!-- Quiz Section -->
        <div class="content-section" id="quizSection">
            <div class="quiz-container">
                <h2 style="text-align: center; color: #4a5568;">üéØ Ki·ªÉm tra ki·∫øn th·ª©c</h2>
                <div id="quizContent"></div>
            </div>
        </div>
        
        <!-- Final Score Section -->
        <div class="content-section" id="finalSection">
            <div class="final-score">
                <h2>üéâ Ch√∫c m·ª´ng!</h2>
                <p id="finalScoreText"></p>
                <p id="feedbackText"></p>
                <button class="btn" onclick="restartGame()">Ch∆°i l·∫°i</button>
            </div>
        </div>
        
        <div class="navigation">
            <button class="btn" id="prevBtn" onclick="previousSection()" disabled>Quay l·∫°i</button>
            <button class="btn" id="nextBtn" onclick="nextSection()">Ti·∫øp theo</button>
        </div>
    </div>
    
    <script>
        let currentSection = 0;
        let score = 0;
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let quizSubmitted = false;
        
        const sections = ['section1', 'section2', 'section3', 'section4', 'quizSection', 'finalSection'];
        
        const questions = [
            {
                question: "T√¢m tr√≠ t·∫°o d·ª±ng v√† ki·ªÉm so√°t nh·ªØng ch·ª©c nƒÉng n√†o?",
                options: [
                    "Ch·ªâ c√≥ tr√≠ nh·ªõ v√† t∆∞ duy",
                    "Tri gi√°c, ch√∫ √Ω, tr√≠ nh·ªõ, c·∫£m x√∫c, ng√¥n ng·ªØ, ra quy·∫øt ƒë·ªãnh, t∆∞ duy",
                    "Ch·ªâ c√≥ h√†nh vi quan s√°t ƒë∆∞·ª£c",
                    "Ch·ªâ c√≥ ph·∫£n x·∫° t·ª± ƒë·ªông"
                ],
                correct: 1
            },
            {
                question: "Ai ƒë√£ th·ª±c hi·ªán th√≠ nghi·ªám ƒëo th·ªùi gian ph·∫£n ·ª©ng ƒë·∫ßu ti√™n?",
                options: ["Wundt", "Donders", "James", "Watson"],
                correct: 1
            },
            {
                question: "Ph√≤ng th√≠ nghi·ªám t√¢m l√Ω ƒë·∫ßu ti√™n ƒë∆∞·ª£c th√†nh l·∫≠p nƒÉm n√†o v√† ·ªü ƒë√¢u?",
                options: [
                    "1885 t·∫°i M·ªπ",
                    "1879 t·∫°i Leipzig, ƒê·ª©c", 
                    "1890 t·∫°i Ph√°p",
                    "1913 t·∫°i Anh"
                ],
                correct: 1
            },
            {
                question: "Theo Donders, vi·ªác ra quy·∫øt ƒë·ªãnh gi·ªØa hai k√≠ch th√≠ch m·∫•t bao l√¢u?",
                options: ["1 gi√¢y", "1/2 gi√¢y", "1/10 gi√¢y", "1/100 gi√¢y"],
                correct: 2
            },
            {
                question: "Ebbinghaus ph√°t hi·ªán ƒëi·ªÅu g√¨ v·ªÅ qu√° tr√¨nh qu√™n?",
                options: [
                    "Qu√™n ƒë·ªÅu ƒë·∫∑n theo th·ªùi gian",
                    "Qu√™n nhanh nh·∫•t trong 1-2 ng√†y ƒë·∫ßu",
                    "Kh√¥ng bao gi·ªù qu√™n ho√†n to√†n",
                    "Qu√™n ng·∫´u nhi√™n"
                ],
                correct: 1
            },
            {
                question: "Ch·ªß nghƒ©a h√†nh vi do ai kh·ªüi x∆∞·ªõng?",
                options: ["Skinner", "Pavlov", "Watson", "Tolman"],
                correct: 2
            },
            {
                question: "Th√≠ nghi·ªám 'Little Albert' minh h·ªça cho nguy√™n l√Ω n√†o?",
                options: [
                    "ƒêi·ªÅu ki·ªán h√≥a c·ªï ƒëi·ªÉn",
                    "ƒêi·ªÅu ki·ªán h√≥a t·∫°o t√°c",
                    "H·ªçc quan s√°t",
                    "H·ªçc th·ª≠ v√† sai"
                ],
                correct: 0
            },
            {
                question: "Tolman ph√°t hi·ªán ƒëi·ªÅu g√¨ ·ªü chu·ªôt m√¢u thu·∫´n v·ªõi ch·ªß nghƒ©a h√†nh vi?",
                options: [
                    "Ph·∫£n x·∫° c√≥ ƒëi·ªÅu ki·ªán",
                    "B·∫£n ƒë·ªì nh·∫≠n th·ª©c",
                    "H√†nh vi b·∫£n nƒÉng",
                    "H·ªçc t·∫≠p x√£ h·ªôi"
                ],
                correct: 1
            },
            {
                question: "H·ªôi ngh·ªã n√†o ƒë∆∞·ª£c coi l√† 'ng√†y sinh c·ªßa khoa h·ªçc nh·∫≠n th·ª©c'?",
                options: [
                    "H·ªôi ngh·ªã Leipzig 1879",
                    "H·ªôi ngh·ªã Dartmouth v√† MIT 1956",
                    "H·ªôi ngh·ªã Harvard 1967",
                    "H·ªôi ngh·ªã Stanford 1970"
                ],
                correct: 1
            },
            {
                question: "Logic Theorist do ai ph√°t tri·ªÉn?",
                options: [
                    "McCarthy",
                    "Turing",
                    "Simon v√† Newell",
                    "Von Neumann"
                ],
                correct: 2
            },
            {
                question: "Gi√°o tr√¨nh 'Cognitive Psychology' ƒë∆∞·ª£c xu·∫•t b·∫£n nƒÉm n√†o?",
                options: ["1956", "1967", "1970", "1979"],
                correct: 1
            },
            {
                question: "Ph∆∞∆°ng ph√°p n·ªôi quan (introspection) ƒë∆∞·ª£c s·ª≠ d·ª•ng b·ªüi tr∆∞·ªùng ph√°i n√†o?",
                options: [
                    "Ch·ªß nghƒ©a h√†nh vi",
                    "Ch·ªß nghƒ©a c·∫•u tr√∫c",
                    "Ch·ªß nghƒ©a ch·ª©c nƒÉng",
                    "Ch·ªß nghƒ©a nh·∫≠n th·ª©c"
                ],
                correct: 1
            },
            {
                question: "ƒêi·ªÅu ki·ªán h√≥a t·∫°o t√°c (operant conditioning) do ai ph√°t tri·ªÉn?",
                options: ["Watson", "Pavlov", "Skinner", "Thorndike"],
                correct: 2
            },
            {
                question: "Chomsky ph√™ ph√°n l√Ω thuy·∫øt h·ªçc ng√¥n ng·ªØ c·ªßa ai?",
                options: ["Watson", "Skinner", "Pavlov", "James"],
                correct: 1
            },
            {
                question: "M√¥ h√¨nh x·ª≠ l√Ω th√¥ng tin so s√°nh t√¢m tr√≠ v·ªõi c√°i g√¨?",
                options: [
                    "M√°y ƒëi·ªán tho·∫°i",
                    "M√°y t√≠nh",
                    "M·∫°ng l∆∞·ªõi th·∫ßn kinh",
                    "H·ªá th·ªëng c∆° h·ªçc"
                ],
                correct: 1
            },
            {
                question: "William James n·ªïi ti·∫øng v·ªõi t√°c ph·∫©m n√†o?",
                options: [
                    "Cognitive Psychology",
                    "Verbal Behavior",
                    "Principles of Psychology",
                    "The Mind of Man"
                ],
                correct: 2
            },
            {
                question: "Broadbent ƒë·ªÅ xu·∫•t m√¥ h√¨nh n√†o v·ªÅ ch√∫ √Ω?",
                options: [
                    "M√¥ h√¨nh b·ªô l·ªçc",
                    "M√¥ h√¨nh t√†i nguy√™n",
                    "M√¥ h√¨nh spotlight",
                    "M√¥ h√¨nh zoom lens"
                ],
                correct: 0
            },
            {
                question: "Th√≠ nghi·ªám Palmer (1975) minh h·ªça ƒëi·ªÅu g√¨?",
                options: [
                    "Tr√≠ nh·ªõ ng·∫Øn h·∫°n c√≥ gi·ªõi h·∫°n",
                    "Ki·∫øn th·ª©c ·∫£nh h∆∞·ªüng ƒë·∫øn tri gi√°c",
                    "Ch√∫ √Ω c√≥ th·ªÉ chia t√°ch",
                    "Ng√¥n ng·ªØ ·∫£nh h∆∞·ªüng t∆∞ duy"
                ],
                correct: 1
            }
        ];
        
        function showSection(index) {
            sections.forEach((section, i) => {
                document.getElementById(section).classList.toggle('active', i === index);
            });
            
            document.getElementById('prevBtn').disabled = index === 0;
            document.getElementById('nextBtn').style.display = index === sections.length - 1 ? 'none' : 'block';
            
            // Remove review button if going back to non-quiz sections
            const reviewBtn = document.getElementById('reviewBtn');
            if (reviewBtn && index < 4) {
                reviewBtn.remove();
            }
            
            if (index === 4) { // Quiz section
                if (!window.quizSubmitted) {
                    loadQuiz();
                    document.getElementById('nextBtn').textContent = 'N·ªôp b√†i';
                    document.getElementById('nextBtn').onclick = submitQuiz;
                } else {
                    // If returning to review quiz
                    document.getElementById('nextBtn').textContent = 'Xem k·∫øt qu·∫£';
                    document.getElementById('nextBtn').onclick = () => {
                        currentSection = 5;
                        showSection(currentSection);
                    };
                }
            } else if (index < 4) {
                document.getElementById('nextBtn').textContent = 'Ti·∫øp theo';
                document.getElementById('nextBtn').onclick = nextSection;
            }
            
            updateProgress();
        }
        
        function nextSection() {
            if (currentSection < sections.length - 1) {
                currentSection++;
                showSection(currentSection);
            }
        }
        
        function previousSection() {
            if (currentSection > 0) {
                currentSection--;
                showSection(currentSection);
            }
        }
        
        function updateProgress() {
            const progress = ((currentSection + 1) / sections.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }
        
        function updateScore(points) {
            score += points;
            document.getElementById('scoreDisplay').textContent = `ƒêi·ªÉm: ${score}`;
        }
        
        function loadQuiz() {
            const quizContent = document.getElementById('quizContent');
            quizContent.innerHTML = '';
            window.quizSubmitted = false;
            
            // Shuffle and select 10 random questions
            const shuffled = [...questions].sort(() => Math.random() - 0.5).slice(0, 10);
            
            shuffled.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.innerHTML = `
                    <h3>C√¢u ${index + 1}: ${q.question}</h3>
                    <div class="options">
                        ${q.options.map((option, i) => `
                            <div class="option" onclick="selectAnswer(${index}, ${i})" data-question="${index}" data-option="${i}">
                                ${option}
                            </div>
                        `).join('')}
                    </div>
                `;
                quizContent.appendChild(questionDiv);
            });
            
            window.currentQuestions = shuffled;
        }
        
        function selectAnswer(questionIndex, optionIndex) {
            const options = document.querySelectorAll(`[data-question="${questionIndex}"]`);
            options.forEach(opt => opt.classList.remove('selected'));
            options[optionIndex].classList.add('selected');
            
            userAnswers[questionIndex] = optionIndex;
        }
        
        function submitQuiz() {
            let correctCount = 0;
            window.quizSubmitted = true;
            
            window.currentQuestions.forEach((q, qIndex) => {
                const options = document.querySelectorAll(`[data-question="${qIndex}"]`);
                const userAnswer = userAnswers[qIndex];
                
                // Disable clicking after submission
                options.forEach(opt => {
                    opt.style.pointerEvents = 'none';
                });
                
                if (userAnswer !== undefined) {
                    if (userAnswer === q.correct) {
                        options[userAnswer].classList.add('correct');
                        correctCount++;
                        updateScore(10);
                    } else {
                        options[userAnswer].classList.add('incorrect');
                        options[q.correct].classList.add('correct');
                    }
                } else {
                    // Mark correct answer for unanswered questions
                    options[q.correct].classList.add('correct');
                }
            });
            
            // Change button to review mode
            document.getElementById('nextBtn').textContent = 'Xem k·∫øt qu·∫£';
            document.getElementById('nextBtn').onclick = () => {
                currentSection = 5;
                showSection(currentSection);
                showFinalScore(correctCount);
            };
            
            // Add review button
            const navDiv = document.querySelector('.navigation');
            if (!document.getElementById('reviewBtn')) {
                const reviewBtn = document.createElement('button');
                reviewBtn.id = 'reviewBtn';
                reviewBtn.className = 'btn';
                reviewBtn.textContent = 'Xem l·∫°i c√¢u h·ªèi';
                reviewBtn.onclick = () => {
                    currentSection = 4;
                    showSection(currentSection);
                };
                navDiv.insertBefore(reviewBtn, document.getElementById('nextBtn'));
            }
        }
        
        function showFinalScore(correctCount) {
            const totalQuestions = window.currentQuestions.length;
            const percentage = (correctCount / totalQuestions) * 100;
            
            document.getElementById('finalScoreText').textContent = 
                `B·∫°n tr·∫£ l·ªùi ƒë√∫ng ${correctCount}/${totalQuestions} c√¢u (${percentage.toFixed(0)}%)`;
            
            let feedback = '';
            if (percentage >= 80) {
                feedback = 'üåü Xu·∫•t s·∫Øc! B·∫°n ƒë√£ n·∫Øm v·ªØng ki·∫øn th·ª©c v·ªÅ t√¢m l√Ω h·ªçc nh·∫≠n th·ª©c!';
            } else if (percentage >= 60) {
                feedback = 'üëç T·ªët l·∫Øm! B·∫°n ƒë√£ hi·ªÉu ƒë∆∞·ª£c c√°c kh√°i ni·ªám c∆° b·∫£n!';
            } else {
                feedback = 'üí™ C·∫ßn √¥n t·∫≠p th√™m! H√£y xem l·∫°i c√°c ph·∫ßn l√Ω thuy·∫øt nh√©!';
            }
            
            document.getElementById('feedbackText').textContent = feedback;
        }
        
        function restartGame() {
            currentSection = 0;
            score = 0;
            userAnswers = [];
            window.quizSubmitted = false;
            document.getElementById('scoreDisplay').textContent = 'ƒêi·ªÉm: 0';
            
            // Remove review button if exists
            const reviewBtn = document.getElementById('reviewBtn');
            if (reviewBtn) {
                reviewBtn.remove();
            }
            
            showSection(0);
        }
        
        // Initialize
        showSection(0);
    </script>
</body>
</html>