<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Khoa h·ªçc th·∫ßn kinh nh·∫≠n th·ª©c</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: #333;
      background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
      min-height: 100vh;
      margin: 0;
    }
    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 18px;
    }
    .header {
      text-align: center;
      margin-bottom: 36px;
      color: #fff;
      text-shadow: 1px 2px 7px #e77c40b8;
    }
    .header h1 {
      font-size: 2.5em;
      margin-bottom: 5px;
    }
    .header p {
      font-size: 1.1em;
      opacity: 0.94;
    }
    .tabs {
      display: flex;
      justify-content: center;
      margin-bottom: 28px;
      flex-wrap: wrap;
      gap: 9px;
    }
    .tab {
      padding: 12px 24px;
      background: rgba(255,255,255,0.23);
      border: none;
      border-radius: 22px;
      color: #3c2a21;
      font-weight: bold;
      cursor: pointer;
      font-size: 1.06em;
      letter-spacing: 0.01em;
      transition: all 0.25s;
      box-shadow: 0 1px 6px #da7a29a2;
      backdrop-filter: blur(8px);
    }
    .tab:hover, .tab.active {
      background: #fff8ea;
      transform: translateY(-2px) scale(1.03);
      box-shadow: 0 2px 13px #ed994bb8;
    }
    .content {
      background: rgba(255,255,255,0.95);
      border-radius: 18px;
      padding: 24px 23px 28px 23px;
      box-shadow: 0 8px 40px rgba(237, 153, 75, 0.13);
      min-height: 480px;
    }
    .tab-content { display: none; }
    .tab-content.active { display: block; animation: fadeIn 0.6s;}
    @keyframes fadeIn { from {opacity: 0; transform: translateY(20px);} to {opacity: 1; transform: translateY(0);} }
    .highlight {
      background: linear-gradient(120deg, #ffe29f 0%, #ffa99f 100%);
      padding: 15px 17px;
      border-radius: 8px;
      margin: 12px 0;
      border-left: 5px solid #f2994a;
      font-size: 1.04em;
    }
    .timeline {
      border-left: 4px solid #e07c24;
      margin-left: 8px;
      margin-bottom: 18px;
    }
    .event {
      position: relative;
      margin-bottom: 30px;
      margin-left: 20px;
      background: linear-gradient(100deg, #fdf6e3 0%, #ffe3cc 100%);
      border-radius: 9px;
      box-shadow: 0 4px 15px #ffa20010;
      padding: 18px 18px 13px 22px;
    }
    .event:before {
      content: "";
      position: absolute;
      left: -36px; top: 17px;
      width: 18px; height: 18px;
      background: #e07c24;
      border: 2px solid #fff;
      border-radius: 50%;
      box-shadow: 0 2px 7px #da721d50;
    }
    .event-title { font-weight: bold; font-size: 1.15em; color: #e07c24; }
    .event-info { font-size: 0.98em; margin-top: 4px; margin-bottom: 6px;}
    .event-sample { background: #ffe29f4d; border-left: 4px solid #e07c24; margin: 10px 0 0 0; padding: 8px 14px; border-radius: 6px;}
    .diagram-area {
      background: linear-gradient(120deg, #c3fff8 0%, #ffe7c7 100%);
      border-radius: 12px;
      padding: 15px 14px;
      margin: 18px 0;
      text-align: center;
      box-shadow: 0 2px 12px #bde3ec48;
    }
    .flow-step {
      display: inline-block;
      background: #fff;
      padding: 13px 18px;
      margin: 9px 5px;
      border-radius: 8px;
      box-shadow: 0 1px 8px #7ed6df1b;
      position: relative;
      font-weight: 500;
      font-size: 1.06em;
    }
    .flow-step:after {
      content: "‚Üí";
      position: absolute;
      right: -20px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.3em;
      color: #e07c24;
      font-weight: bold;
    }
    .flow-step:last-child:after { display: none; }
    .practical-example {
      background: linear-gradient(120deg, #d5f3e7 0%, #fbecc7 100%);
      border-radius: 8px;
      padding: 14px 15px;
      margin: 10px 0 13px 0;
      border-left: 5px solid #69b578;
    }
    .example-title { font-weight: bold; color: #22805c; margin-bottom: 5px;}
    /* Quiz style */
    .quiz-container { margin-top: 20px; }
    .question {
      background: #fff; border-radius: 8px; padding: 16px; margin: 10px 0;
      box-shadow: 0 2px 10px #6e45336c; border-left: 4px solid #e07c24;
    }
    .question h4 { color: #af4709; margin-bottom: 12px; }
    .options { list-style: none; padding: 0; }
    .options li {
      padding: 8px 12px; margin: 4px 0; background: #f7f7f7;
      border-radius: 5px; cursor: pointer; transition: background 0.23s;
      border: 1px solid #fff4e0;
    }
    .options li:hover { background: #fff0e1; }
    .options li.selected { background: #ffe3cc; border: 1px solid #f2994a;}
    .options li.correct { background: #bafbc5; border: 1px solid #30b849;}
    .options li.incorrect { background: #ffd1d1; border: 1px solid #f06161;}
    .quiz-actions {text-align:center; margin-top:18px;}
    .quiz-actions button {margin:0 8px;}
    .score-area {font-size:1.13em; margin: 16px 0 0 0;}
    @media (max-width: 650px) {
      .container {padding:5px;}
      .content {padding:12px;}
      .header h1 {font-size:1.55em;}
      .tabs {gap:3px;}
    }
    /* Small utility buttons */
    .demo-button {
      background: linear-gradient(45deg, #e07c24, #ffe29f);
      color: #fff; border: none; padding: 9px 22px;
      border-radius: 22px; cursor: pointer; font-size: 1em;
      font-weight: bold;
      margin: 0 2px;
      transition: all 0.2s;
      box-shadow: 0 1px 8px #ed994b4c;
    }
    .demo-button:hover {
      background: linear-gradient(45deg, #ffc372, #e07c24);
      transform: scale(1.04);
      box-shadow: 0 2px 10px #e07c24aa;
    }
  </style>
</head>
<body>
<div class="container">
  <div class="header">
    <h1>üß¨ Khoa h·ªçc th·∫ßn kinh nh·∫≠n th·ª©c</h1>
    <p>T√¢m l√Ω h·ªçc nh·∫≠n th·ª©c ‚Äì T·ªïng h·ª£p kh√°i ni·ªám, th√≠ nghi·ªám, m√¥ h√¨nh, ·ª©ng d·ª•ng & luy·ªán t·∫≠p tr·∫Øc nghi·ªám</p>
  </div>
  <div class="tabs">
    <button class="tab active" onclick="showTab('definitions')">ƒê·ªãnh nghƒ©a & Kh√°i ni·ªám</button>
    <button class="tab" onclick="showTab('timeline')">Th√≠ nghi·ªám theo d√≤ng th·ªùi gian</button>
    <button class="tab" onclick="showTab('models')">M√¥ h√¨nh & S∆° ƒë·ªì x·ª≠ l√Ω</button>
    <button class="tab" onclick="showTab('applications')">·ª®ng d·ª•ng & B·ªánh l√Ω</button>
    <button class="tab" onclick="showTab('quiz')">Tr·∫Øc nghi·ªám √¥n t·∫≠p</button>
  </div>
  <div class="content">
    <!-- ƒê·ªãnh nghƒ©a -->
    <div id="definitions" class="tab-content active">
      <h2>üìö Kh√°i ni·ªám then ch·ªët</h2>
      <div class="highlight"><b>T·∫ø b√†o th·∫ßn kinh (Neuron):</b> ƒê∆°n v·ªã c∆° b·∫£n nh·∫•t c·ªßa n√£o b·ªô v√† h·ªá th·∫ßn kinh, truy·ªÅn t√≠n hi·ªáu qua c√°c synapse.</div>
      <div class="highlight"><b>Synapse:</b> Kho·∫£ng tr·ªëng gi·ªØa hai neuron, n∆°i t√≠n hi·ªáu truy·ªÅn qua b·∫±ng ƒëi·ªán h√≥a h·ªçc.</div>
      <div class="highlight"><b>ƒêi·ªán th·∫ø ngh·ªâ/ƒêi·ªán th·∫ø ho·∫°t ƒë·ªông:</b> Tr·∫°ng th√°i ƒëi·ªán th·∫ø -70mV khi ngh·ªâ v√† +40mV khi neuron ph√°t xung ƒëi·ªán (Edgar Adrian, Nobel 1932).</div>
      <div class="highlight"><b>Feature detectors:</b> T·∫ø b√†o th·∫ßn kinh ch·ªâ ph·∫£n ·ª©ng v·ªõi ƒë·∫∑c tr∆∞ng c·ª• th·ªÉ nh∆∞ h∆∞·ªõng, c·∫°nh, chuy·ªÉn ƒë·ªông (Hubel & Wiesel, Nobel 1981).</div>
      <div class="highlight"><b>M√£ h√≥a th·∫ßn kinh:</b> <u>M√£ h√≥a ƒë·∫∑c hi·ªáu</u> (1 neuron), <u>m√£ h√≥a th∆∞a th·ªõt</u> (√≠t neuron), <u>m√£ h√≥a ph·ªï bi·∫øn</u> (nhi·ªÅu neuron) c√πng tham gia.</div>
      <div class="highlight"><b>C·ª•c b·ªô h√≥a ch·ª©c nƒÉng:</b> M·ªói v√πng n√£o ƒë·∫£m nhi·ªám ch·ª©c nƒÉng ri√™ng bi·ªát (Broca, Wernicke, FFA...)</div>
      <div class="highlight"><b>ƒê·∫°i di·ªán ph√¢n t√°n:</b> M·ªôt tr·∫£i nghi·ªám, c·∫£m x√∫c th∆∞·ªùng k√≠ch ho·∫°t ƒë·ªìng th·ªùi nhi·ªÅu v√πng n√£o b·ªô kh√°c nhau.</div>
    </div>
    <!-- Timeline -->
    <div id="timeline" class="tab-content">
      <h2>üß≠ D√≤ng th·ªùi gian c√°c th√≠ nghi·ªám & ph√°t hi·ªán l·ªõn</h2>
      <div class="timeline">
        <div class="event">
          <div class="event-title">1870: Camillo Golgi</div>
          <div class="event-info">K·ªπ thu·∫≠t nhu·ªôm b·∫°c nitrat m√¥ n√£o &rarr; Quan s√°t r√µ m·∫°ng l∆∞·ªõi t·∫ø b√†o th·∫ßn kinh.</div>
          <div class="event-sample">Minh h·ªça n√£o nh∆∞ ‚Äúm·∫°ng l∆∞·ªõi d√¢y ƒëi·ªán‚Äù ‚Äì t·∫°o ƒëi·ªÅu ki·ªán cho c√°c nghi√™n c·ª©u ti·∫øp theo.</div>
        </div>
        <div class="event">
          <div class="event-title">1890: Ramon y Cajal</div>
          <div class="event-info">Ph√¢n t√≠ch m√¥ n√£o, s·ª≠ d·ª•ng k·ªπ thu·∫≠t Golgi &rarr; Ph√°t hi·ªán neuron l√† ƒë∆°n v·ªã c∆° b·∫£n, m√¥ t·∫£ synapse v√† m·∫°ch th·∫ßn kinh.<br><b>‚Üí ƒê·∫∑t n·ªÅn m√≥ng "neuron doctrine". Nobel 1906.</b></div>
          <div class="event-sample">N√£o b·ªô gi·ªëng nh∆∞ b·∫£ng m·∫°ch ƒëi·ªán t·ª≠; m·ªói neuron nh∆∞ m·ªôt thi·∫øt b·ªã trong h·ªá th·ªëng.</div>
        </div>
        <div class="event">
          <div class="event-title">1920: Edgar Adrian</div>
          <div class="event-info">Ghi l·∫°i t√≠n hi·ªáu ƒëi·ªán c·ªßa neuron &rarr; Ph√°t hi·ªán ƒëi·ªán th·∫ø ngh·ªâ (-70mV), ƒëi·ªán th·∫ø ho·∫°t ƒë·ªông (+40mV), t·ªâ l·ªá ph√≥ng ƒëi·ªán ƒë·∫°i di·ªán cho c∆∞·ªùng ƒë·ªô k√≠ch th√≠ch.<br><b>Nobel 1932.</b></div>
          <div class="event-sample">·∫§n m·∫°nh l√™n da &rarr; c·∫£m gi√°c m·∫°nh h∆°n do neuron ph√≥ng ƒëi·ªán nhanh h∆°n.</div>
        </div>
        <div class="event">
          <div class="event-title">1960: Hubel & Wiesel</div>
          <div class="event-info">Th√≠ nghi·ªám tr√™n m√®o &rarr; Kh√°m ph√° "feature detectors" ‚Äì neuron ch·ªâ ƒë√°p ·ª©ng v·ªõi c·∫°nh, h∆∞·ªõng ho·∫∑c chuy·ªÉn ƒë·ªông nh·∫•t ƒë·ªãnh.<br><b>Nobel 1981.</b></div>
          <div class="event-sample">Nh·∫≠n di·ªán ƒë∆∞·ª£c vi·ªÅn c·∫°nh, h∆∞·ªõng chuy·ªÉn ƒë·ªông nh·ªù t·∫ø b√†o th·∫ßn kinh ƒë·∫∑c th√π.</div>
        </div>
        <div class="event">
          <div class="event-title">1970: Blackmore & Cooper</div>
          <div class="event-info">Nu√¥i m√®o con trong m√¥i tr∆∞·ªùng ch·ªâ c√≥ chi·ªÅu ngang/d·ªçc &rarr; H·ªá th·∫ßn kinh th√≠ch nghi ‚Äì ch·ªâ ƒë√°p ·ª©ng k√≠ch th√≠ch ph√π h·ª£p.<br><b>‚Üí Ch·ª©ng minh t√≠nh m·ªÅm d·∫ªo c·ªßa n√£o b·ªô.</b></div>
          <div class="event-sample">Tr·∫ª nh·ªè h·ªçc nhi·ªÅu ng√¥n ng·ªØ d·ªÖ d√†ng n·∫øu ƒë∆∞·ª£c ti·∫øp x√∫c s·ªõm.</div>
        </div>
        <div class="event">
          <div class="event-title">1861: Paul Broca</div>
          <div class="event-info">Nghi√™n c·ª©u b·ªánh nh√¢n ‚ÄúTan‚Äù &rarr; X√°c ƒë·ªãnh v√πng n√£o ki·ªÉm so√°t n√≥i ‚Äì t·ªïn th∆∞∆°ng g√¢y m·∫•t kh·∫£ nƒÉng n√≥i (Broca's area).</div>
          <div class="event-sample">B·ªánh nh√¢n sau ch·∫•n th∆∞∆°ng s·ªç n√£o kh√≥ n√≥i nh∆∞ng v·∫´n hi·ªÉu ƒë∆∞·ª£c l·ªùi n√≥i.</div>
        </div>
        <div class="event">
          <div class="event-title">1879: Carl Wernicke</div>
          <div class="event-info">Nghi√™n c·ª©u b·ªánh nh√¢n t·ªïn th∆∞∆°ng th√πy th√°i d∆∞∆°ng &rarr; X√°c ƒë·ªãnh v√πng hi·ªÉu ng√¥n ng·ªØ (Wernicke's area) ‚Äì t·ªïn th∆∞∆°ng g√¢y lo·∫°n ng√¥n ng·ªØ.</div>
          <div class="event-sample">N√≥i l∆∞u lo√°t nh∆∞ng ‚Äúl·ªôn x·ªôn‚Äù, kh√¥ng hi·ªÉu √Ω ng∆∞·ªùi kh√°c.</div>
        </div>
      </div>
    </div>
    <!-- M√¥ h√¨nh & S∆° ƒë·ªì x·ª≠ l√Ω -->
    <div id="models" class="tab-content">
      <h2>üî¨ M√¥ h√¨nh & s∆° ƒë·ªì x·ª≠ l√Ω</h2>
      <div class="diagram-area">
        <b>üß† S∆° ƒë·ªì truy·ªÅn t√≠n hi·ªáu th·∫ßn kinh</b><br>
        <span class="flow-step">K√≠ch th√≠ch</span>
        <span class="flow-step">Th·ª• th·ªÉ</span>
        <span class="flow-step">Neuron truy·ªÅn xung</span>
        <span class="flow-step">Synapse</span>
        <span class="flow-step">N√£o b·ªô</span>
        <span class="flow-step">X·ª≠ l√Ω nh·∫≠n th·ª©c</span>
      </div>
      <div class="diagram-area">
        <b>üåä X·ª≠ l√Ω ph√¢n c·∫•p trong th·ªã gi√°c</b><br>
        <span class="flow-step">K√≠ch th√≠ch ƒë∆°n gi·∫£n<br>(h∆∞·ªõng, chuy·ªÉn ƒë·ªông)</span>
        <span class="flow-step">K√≠ch th√≠ch ph·ª©c t·∫°p<br>(b√†n tay, h√¨nh d·∫°ng)</span>
        <span class="flow-step">K√≠ch th√≠ch r·∫•t ph·ª©c t·∫°p<br>(g∆∞∆°ng m·∫∑t, v·∫≠t th·ªÉ...)</span>
      </div>
      <div class="diagram-area">
        <b>üîë M√£ h√≥a th·∫ßn kinh</b><br>
        <span class="flow-step">M√£ h√≥a ƒë·∫∑c hi·ªáu<br>(1 neuron duy nh·∫•t)</span>
        <span class="flow-step">M√£ h√≥a th∆∞a th·ªõt<br>(√≠t neuron)</span>
        <span class="flow-step">M√£ h√≥a ph·ªï bi·∫øn<br>(nhi·ªÅu neuron)</span>
      </div>
    </div>
    <!-- ·ª®ng d·ª•ng & b·ªánh l√Ω -->
    <div id="applications" class="tab-content">
      <h2>üåü ·ª®ng d·ª•ng & b·ªánh l√Ω li√™n quan</h2>
      <div class="practical-example">
        <div class="example-title">Ch·∫©n ƒëo√°n t·ªïn th∆∞∆°ng n√£o b·ªô</div>
        <ul>
          <li><b>Broca‚Äôs Aphasia:</b> M·∫•t kh·∫£ nƒÉng n√≥i nh∆∞ng hi·ªÉu ƒë∆∞·ª£c ng√¥n ng·ªØ.</li>
          <li><b>Wernicke‚Äôs Aphasia:</b> N√≥i l∆∞u lo√°t nh∆∞ng kh√¥ng hi·ªÉu/ng∆∞·ªùi kh√°c kh√¥ng hi·ªÉu √Ω.</li>
          <li><b>Prosopagnosia:</b> Kh√¥ng nh·∫≠n di·ªán ƒë∆∞·ª£c g∆∞∆°ng m·∫∑t do t·ªïn th∆∞∆°ng v√πng FFA.</li>
        </ul>
      </div>
      <div class="practical-example">
        <div class="example-title">·ª®ng d·ª•ng c√¥ng ngh·ªá th·∫ßn kinh</div>
        <ul>
          <li><b>Ch·ª•p c·ªông h∆∞·ªüng t·ª´ ch·ª©c nƒÉng (fMRI):</b> X√°c ƒë·ªãnh v√πng n√£o ho·∫°t h√≥a theo ch·ª©c nƒÉng (g∆∞∆°ng m·∫∑t, n∆°i ch·ªën, v·∫≠t th·ªÉ...)</li>
          <li><b>Connectome:</b> B·∫£n ƒë·ªì m·∫°ng l∆∞·ªõi k·∫øt n·ªëi c√°c v√πng n√£o b·ªô gi√∫p hi·ªÉu v·ªÅ b·ªánh th·∫ßn kinh, nh·∫≠n th·ª©c.</li>
        </ul>
      </div>
      <div class="practical-example">
        <div class="example-title">T√¢m l√Ω h·ªçc nh·∫≠n th·ª©c trong tr·ªã li·ªáu</div>
        <p>·ª®ng d·ª•ng hi·ªÉu bi·∫øt v·ªÅ c∆° ch·∫ø th·∫ßn kinh nh·∫≠n th·ª©c v√†o ƒëi·ªÅu tr·ªã ph·ª•c h·ªìi ch·ª©c nƒÉng ng√¥n ng·ªØ, ghi nh·ªõ, ho·∫∑c c√°c r·ªëi lo·∫°n th·∫ßn kinh.</p>
      </div>
    </div>
    <!-- Quiz -->
    <div id="quiz" class="tab-content">
      <h2>üìù Tr·∫Øc nghi·ªám √¥n t·∫≠p</h2>
      <div class="quiz-container" id="quiz-questions"></div>
      <div class="quiz-actions">
        <button class="demo-button" onclick="calculateScore()">T√≠nh ƒëi·ªÉm</button>
        <button class="demo-button" onclick="resetQuiz()">L√†m l·∫°i</button>
        <div id="finalScore" class="score-area"></div>
      </div>
    </div>
  </div>
</div>
<script>
  // Tab logic
  function showTab(tabName) {
    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    document.getElementById(tabName).classList.add('active');
    event.target.classList.add('active');
    if(tabName==='quiz') resetQuiz();
  }
  // Quiz Questions: extracted from 02_Nhanthuc.html (17 questions, all with explanation)
  const quizQuestionsRaw = [
    {
      q: "Ai l√† nh√† khoa h·ªçc ƒë√£ ph√°t tri·ªÉn h·ªçc thuy·∫øt t·∫ø b√†o th·∫ßn kinh (neuron doctrine)?",
      a: [
        "A. Camillo Golgi",
        "B. Ramon y Cajal",
        "C. Edgar Adrian",
        "D. Paul Broca"
      ],
      correct: 1,
      explain: "Ramon y Cajal ƒë√£ ph√°t tri·ªÉn h·ªçc thuy·∫øt neuron, ƒë·∫∑t n·ªÅn m√≥ng cho th·∫ßn kinh h·ªçc hi·ªán ƒë·∫°i."
    },
    {
      q: "Kho·∫£ng tr·ªëng gi·ªØa c√°c t·∫ø b√†o th·∫ßn kinh ƒë∆∞·ª£c g·ªçi l√† g√¨?",
      a: [
        "A. Axon",
        "B. Dendrite",
        "C. Synapse",
        "D. Cell body"
      ],
      correct: 2,
      explain: "Synapse l√† n∆°i ti·∫øp gi√°p gi·ªØa hai neuron, truy·ªÅn t√≠n hi·ªáu h√≥a h·ªçc."
    },
    {
      q: "ƒêi·ªán th·∫ø ngh·ªâ c·ªßa t·∫ø b√†o th·∫ßn kinh l√† bao nhi√™u?",
      a: [
        "A. +40mV",
        "B. -70mV",
        "C. 0mV",
        "D. +70mV"
      ],
      correct: 1,
      explain: "ƒêi·ªán th·∫ø ngh·ªâ l√† -70mV, x√°c ƒë·ªãnh b·ªüi Adrian."
    },
    {
      q: "Ai ƒë√£ kh√°m ph√° ra r·∫±ng t·ªâ l·ªá ph√≥ng ƒëi·ªán c·ªßa neuron ƒë·∫°i di·ªán cho c∆∞·ªùng ƒë·ªô k√≠ch th√≠ch?",
      a: [
        "A. Ramon y Cajal",
        "B. Edgar Adrian",
        "C. David Hubel",
        "D. Carl Wernicke"
      ],
      correct: 1,
      explain: "Edgar Adrian: l·ª±c k√≠ch th√≠ch m·∫°nh ‚Üí t·ªâ l·ªá neuron ph√≥ng ƒëi·ªán tƒÉng."
    },
    {
      q: "B·ªô d√≤ ƒë·∫∑c tr∆∞ng (feature detectors) ƒë∆∞·ª£c ph√°t hi·ªán b·ªüi ai?",
      a: [
        "A. Blackmore v√† Cooper",
        "B. Hubel v√† Wiesel",
        "C. Gross v√† c·ªông s·ª±",
        "D. Rolls v√† Tovee"
      ],
      correct: 1,
      explain: "Hubel & Wiesel: neuron ·ªü v·ªè n√£o th·ªã gi√°c ph·∫£n ·ª©ng v·ªõi ƒë·∫∑c tr∆∞ng nh·∫•t ƒë·ªãnh."
    },
    {
      q: "M√£ h√≥a ƒë·∫∑c hi·ªáu (specificity coding) l√† g√¨?",
      a: [
        "A. ƒê·∫°i di·ªán b·ªüi nh√≥m l·ªõn neuron",
        "B. ƒê·∫°i di·ªán b·ªüi 1 neuron chuy√™n bi·ªát",
        "C. ƒê·∫°i di·ªán b·ªüi nh√≥m nh·ªè neuron",
        "D. Kh√¥ng c√≥ ƒë√°p √°n ƒë√∫ng"
      ],
      correct: 1,
      explain: "M·ªôt neuron duy nh·∫•t ƒë·∫°i di·ªán cho m·ªôt v·∫≠t th·ªÉ (specificity coding)."
    },
    {
      q: "V√πng Broca li√™n quan ƒë·∫øn ch·ª©c nƒÉng g√¨?",
      a: [
        "A. Hi·ªÉu ng√¥n ng·ªØ",
        "B. S·∫£n xu·∫•t ng√¥n ng·ªØ",
        "C. Nh·∫≠n di·ªán g∆∞∆°ng m·∫∑t",
        "D. Tr√≠ nh·ªõ"
      ],
      correct: 1,
      explain: "V√πng Broca: ki·ªÉm so√°t n√≥i. T·ªïn th∆∞∆°ng g√¢y kh√≥ n√≥i."
    },
    {
      q: "V√πng Wernicke c√≥ ch·ª©c nƒÉng g√¨?",
      a: [
        "A. S·∫£n xu·∫•t ng√¥n ng·ªØ",
        "B. Hi·ªÉu ng√¥n ng·ªØ",
        "C. Nh·∫≠n di·ªán √¢m thanh",
        "D. ƒêi·ªÅu khi·ªÉn v·∫≠n ƒë·ªông"
      ],
      correct: 1,
      explain: "V√πng Wernicke: hi·ªÉu ng√¥n ng·ªØ. T·ªïn th∆∞∆°ng n√≥i l·ªôn x·ªôn."
    },
    {
      q: "Ph√¢n ly k√©p (double dissociation) l√† g√¨?",
      a: [
        "A. M·ªôt ph∆∞∆°ng ph√°p nghi√™n c·ª©u n√£o b·ªô b·∫±ng fMRI",
        "B. T·ªïn th∆∞∆°ng m·ªôt v√πng n√£o khi·∫øn c√≥ ch·ª©c nƒÉng A nh∆∞ng thi·∫øu ch·ª©c nƒÉng B, v√† ng∆∞·ª£c l·∫°i",
        "C. K·ªπ thu·∫≠t ghi l·∫°i ho·∫°t ƒë·ªông c·ªßa neuron ƒë∆°n l·∫ª",
        "D. Ph∆∞∆°ng ph√°p nhu·ªôm m√¥ n√£o"
      ],
      correct: 1,
      explain: "Ph√¢n ly k√©p: t·ªïn th∆∞∆°ng hai v√πng ‚Üí thi·∫øu hai ch·ª©c nƒÉng kh√°c nhau."
    },
    {
      q: "FFA (Fusiform Face Area) c√≥ ch·ª©c nƒÉng g√¨?",
      a: [
        "A. Nh·∫≠n di·ªán n∆°i ch·ªën",
        "B. Nh·∫≠n di·ªán g∆∞∆°ng m·∫∑t",
        "C. Nh·∫≠n di·ªán c∆° th·ªÉ",
        "D. X·ª≠ l√Ω √¢m thanh"
      ],
      correct: 1,
      explain: "FFA: nh·∫≠n di·ªán khu√¥n m·∫∑t, ph√°t hi·ªán qua fMRI."
    },
    {
      q: "fMRI ho·∫°t ƒë·ªông d·ª±a tr√™n nguy√™n l√Ω n√†o?",
      a: [
        "A. ƒêo ho·∫°t ƒë·ªông ƒëi·ªán c·ªßa n√£o",
        "B. ƒêo l∆∞u l∆∞·ª£ng m√°u v√† m·ª©c ti√™u th·ª• oxy trong n√£o",
        "C. ƒêo s√≥ng √¢m thanh t·ª´ n√£o",
        "D. ƒêo nhi·ªát ƒë·ªô c·ªßa n√£o"
      ],
      correct: 1,
      explain: "fMRI ƒëo l∆∞u l∆∞·ª£ng m√°u (oxygen) khi n√£o ho·∫°t ƒë·ªông."
    },
    {
      q: "Th·ª±c nghi·ªám c·ªßa Blackmore v√† Cooper (1970) ch·ª©ng minh ƒëi·ªÅu g√¨?",
      a: [
        "A. T√≠nh m·ªÅm d·∫ªo ph·ª• thu·ªôc v√†o kinh nghi·ªám c·ªßa h·ªá th·∫ßn kinh",
        "B. S·ª± t·ªìn t·∫°i c·ªßa synapse",
        "C. Nguy√™n l√Ω ho·∫°t ƒë·ªông c·ªßa fMRI",
        "D. C·∫•u tr√∫c c·ªßa t·∫ø b√†o th·∫ßn kinh"
      ],
      correct: 0,
      explain: "M√®o con l·ªõn l√™n ch·ªâ nh·∫≠n bi·∫øt chi·ªÅu ngang/d·ªçc do n√£o th√≠ch nghi m√¥i tr∆∞·ªùng."
    },
    {
      q: "ƒê·∫°i di·ªán ph√¢n t√°n c√≥ ƒë·∫∑c ƒëi·ªÉm g√¨?",
      a: [
        "A. Ch·ªâ m·ªôt v√πng n√£o ho·∫°t ƒë·ªông",
        "B. Nhi·ªÅu v√πng n√£o kh√°c nhau c√πng ho·∫°t ƒë·ªông",
        "C. Kh√¥ng c√≥ v√πng n√£o n√†o ho·∫°t ƒë·ªông",
        "D. Ch·ªâ v·ªè n√£o ho·∫°t ƒë·ªông"
      ],
      correct: 1,
      explain: "ƒê·∫°i di·ªán ph√¢n t√°n: tr·∫£i nghi·ªám k√≠ch ho·∫°t nhi·ªÅu v√πng n√£o."
    },
    {
      q: "M·∫°ng l∆∞·ªõi ch·∫ø ƒë·ªô m·∫∑c ƒë·ªãnh (DMN) ho·∫°t ƒë·ªông khi n√†o?",
      a: [
        "A. Khi th·ª±c hi·ªán nhi·ªám v·ª• ph·ª©c t·∫°p",
        "B. Khi kh√¥ng th·ª±c hi·ªán nhi·ªám v·ª• c·ª• th·ªÉ n√†o",
        "C. Khi ng·ªß",
        "D. Khi t·∫≠p trung cao ƒë·ªô"
      ],
      correct: 1,
      explain: "DMN ho·∫°t ƒë·ªông khi t√¢m tr√≠ 'lang thang', kh√¥ng l√†m nhi·ªám v·ª• c·ª• th·ªÉ."
    },
    {
      q: "Connectome l√† g√¨?",
      a: [
        "A. M·ªôt lo·∫°i m√°y qu√©t n√£o",
        "B. B·∫£n m√¥ t·∫£ c·∫•u tr√∫c m·∫°ng l∆∞·ªõi k·∫øt n·ªëi c·ªßa n√£o b·ªô",
        "C. M·ªôt lo·∫°i t·∫ø b√†o th·∫ßn kinh",
        "D. Ph·∫ßn m·ªÅm ph√¢n t√≠ch d·ªØ li·ªáu n√£o"
      ],
      correct: 1,
      explain: "Connectome: b·∫£n ƒë·ªì m·∫°ng l∆∞·ªõi neuron c·ªßa n√£o."
    },
    {
      q: "Prosopagnosia l√† h·ªôi ch·ª©ng g√¨?",
      a: [
        "A. M·∫•t kh·∫£ nƒÉng n√≥i",
        "B. M·∫•t kh·∫£ nƒÉng nh·∫≠n di·ªán g∆∞∆°ng m·∫∑t",
        "C. M·∫•t kh·∫£ nƒÉng nh·ªõ",
        "D. M·∫•t kh·∫£ nƒÉng nghe"
      ],
      correct: 1,
      explain: "Prosopagnosia: kh√¥ng nh·∫≠n di·ªán ƒë∆∞·ª£c m·∫∑t ng∆∞·ªùi."
    },
    {
      q: "X·ª≠ l√Ω ph√¢n c·∫•p (hierarchical processing) trong th·ªã gi√°c theo th·ª© t·ª± n√†o?",
      a: [
        "A. Ph·ª©c t·∫°p ‚Üí ƒë∆°n gi·∫£n ‚Üí r·∫•t ph·ª©c t·∫°p",
        "B. ƒê∆°n gi·∫£n ‚Üí ph·ª©c t·∫°p ‚Üí r·∫•t ph·ª©c t·∫°p",
        "C. Ch·ªâ x·ª≠ l√Ω ·ªü m·ªôt m·ª©c ƒë·ªô",
        "D. Ng·∫´u nhi√™n"
      ],
      correct: 1,
      explain: "K√≠ch th√≠ch ƒë∆°n gi·∫£n ‚Üí ph·ª©c t·∫°p h∆°n ‚Üí r·∫•t ph·ª©c t·∫°p."
    },
    {
      q: "K·ªπ thu·∫≠t TWI (track-weighted imaging) ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ nghi√™n c·ª©u g√¨?",
      a: [
        "A. Ho·∫°t ƒë·ªông ƒëi·ªán c·ªßa n√£o",
        "B. K·∫øt n·ªëi c·∫•u tr√∫c c·ªßa n√£o d·ª±a tr√™n s·ª± khu·∫øch t√°n n∆∞·ªõc",
        "C. Ho·∫°t ƒë·ªông ch·ª©c nƒÉng c·ªßa n√£o",
        "D. Nhi·ªát ƒë·ªô n√£o"
      ],
      correct: 1,
      explain: "TWI d·ª±ng b·∫£n ƒë·ªì connectome d·ª±a tr√™n khu·∫øch t√°n n∆∞·ªõc."
    }
  ];

  // Shuffle function (Fisher-Yates)
  function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
  }
  let quizState = {questions: [], selected: [], answered: false, score: 0};

  function renderQuiz() {
    const qWrap = document.getElementById('quiz-questions');
    let questions = JSON.parse(JSON.stringify(quizQuestionsRaw)); // deep copy
    shuffleArray(questions); // shuffle questions
    questions.forEach(q => shuffleArray(q.a)); // shuffle answers
    quizState.questions = questions;
    quizState.selected = Array(questions.length).fill(null);
    quizState.answered = false;
    quizState.score = 0;
    let html = '';
    questions.forEach((q, idx) => {
      html += `
      <div class="question" id="q${idx}">
        <h4>C√¢u ${idx+1}: ${q.q}</h4>
        <ul class="options" id="opt${idx}">
          ${q.a.map((opt, oid) => `<li onclick="selectAnswer(${idx},${oid})">${opt}</li>`).join('')}
        </ul>
        <div class="explain" id="exp${idx}" style="display:none; margin-top:6px; font-size:0.98em;"></div>
      </div>
      `;
    });
    qWrap.innerHTML = html;
    document.getElementById('finalScore').innerHTML = '';
  }

  function selectAnswer(qIdx, optIdx) {
    if (quizState.answered) return;
    quizState.selected[qIdx] = optIdx;
    let ul = document.getElementById('opt'+qIdx);
    Array.from(ul.children).forEach((li,i) => {
      li.classList.remove('selected');
      if(i===optIdx) li.classList.add('selected');
    });
  }

  function calculateScore() {
    if (quizState.answered) return;
    let score = 0;
    quizState.questions.forEach((q, idx) => {
      let picked = quizState.selected[idx];
      // Need to map back to real correct after shuffle
      let realCorrectText = quizQuestionsRaw.find(_q => _q.q === q.q).a[q.correct];
      let pickedText = q.a[picked];
      let realCorrectIdx = q.a.findIndex(opt => opt === realCorrectText);
      let ul = document.getElementById('opt'+idx);
      Array.from(ul.children).forEach((li,i) => {
        li.classList.remove('correct','incorrect','selected');
        if (i === realCorrectIdx) li.classList.add('correct');
        else if (i === picked && picked !== realCorrectIdx) li.classList.add('incorrect');
      });
      if (picked === realCorrectIdx) score++;
      // Show explanation
      let expDiv = document.getElementById('exp'+idx);
      expDiv.style.display='block';
      expDiv.innerHTML = (picked===realCorrectIdx ? '‚úÖ ƒê√∫ng! ' : '‚ùå Sai. ') + q.explain;
    });
    quizState.answered = true;
    quizState.score = score;
    document.getElementById('finalScore').innerHTML = `<b>K·∫øt qu·∫£: ${score}/${quizState.questions.length}</b> ‚Äì ${(score/quizState.questions.length*100).toFixed(0)}%<br>${score>=15 ? 'üåü Xu·∫•t s·∫Øc!' : score>=12 ? 'üëç R·∫•t t·ªët!' : score>=9 ? 'üëå ·ªîn, n√™n √¥n th√™m!' : 'üßê H√£y ƒë·ªçc l·∫°i t√†i li·ªáu v√† th·ª≠ l·∫°i!'}`;
  }
  function resetQuiz() {
    renderQuiz();
    quizState.answered = false;
  }
  // Initial render
  renderQuiz();
</script>
</body>
</html>
